第一个部门：Data

     1.开发语言
        （1）Java基本数据类型和单位
        （2）面向对象三大特性
        （3）Java HashMap和currentHashMap和hashTablse的区别
        （4）Java手写一个DCL
        （5）CAS底层原理，volatile可见性原理？ABA问题了解吗？怎么解决？
        （6）线程有几种启动方式，各自有什么优缺点？
        （7）Java默认线程池有哪几种？各自适合什么场景？
        （8）AQS了解吗？底层原理？
        （9）Java内存布局讲一下？
        （10)Java集合了解多少，详细说说，ArrayList和LinkedList的区别？详细讲讲
    2.大数据框架
         (1) Spark1.6之后内存进行了优化，你知道优化了什么吗？
         (2) Java序列化了解多少？平时用什么算法？
         (3) Hive和Hbase区别？Hbase底层什么原理？
         (4) Flink仅一次语义怎么保证的？
         (5) Spark处理kafak有几种模式？有什么优缺点
         (6) 堆外内存是什么？有什么作用？详细讲讲
         (7) 你用SparkStreaming消费Kafka这么保证仅一次语义？
         (8) Spark内存布局？详细讲讲
         (9) ClickHouse你了解多少？为什么用CH？原理讲讲？
         (10) Kafka有什么特性？为什么有高吞吐？
         (11) Spark中你是怎么理解RDD的？说说你的理解。
    3.基础知识：
         (1) TCP与UDP的区别
         (2) 讲讲TCP粘包
         (3) OSI模型说一下，每一层有哪些协议
         (4) TCP流量控制说一下？滑动窗口大小会变吗？怎么变？
         (5) 虚拟内存详细说说？
         (6) 你知道一开始虚拟内存是为了解决什么吗？
         (7) 进程调度算法？讲讲各自的优缺点
        （8）栈和队列用在什么场景，堆怎么实现的？时间复杂度？
        （9）MySQL那一套东西，innodb和mysiam的区别，B+树？聚簇索引？回表？的概念以及性质
    4.项目问题
        （1）Flink本身已经是多线程，你为什么还在算子内部使用多线程编程？
        （2）你实习公司项目资源有多少，多大QPS？你怎么验证你的数据是正确的？
    5.代码考核
         (1) 每一面都有两道SQL题目，具体记不清楚了，都比较简单，会Hive基本没啥问题
         (2) 最大子序和LeetCode53
         (3) 下一个排列LeetCode31
         (4) 最小差值 II LeetCode910
         (5) 字符串相加LeetCode415
    6.场景设计
        1.设计一个单机版即可的调度系统，实现一下
        2.100亿个数据，如何排序？
第二个部门：广告哪个部门不清楚
    1.开发语言
        （1）HashMap连环炮，为什么初始容量是16，为什么容量是2的幂次，为什么链表长度大于8才变为红黑树，为什么要高16位和低16位异或？为什么key，value可以为null，但是hashTable不可以？讲讲fail-fast? fail-safe呢? hashMap使用for循环遍历会有什么问题？
        (2) 说说你对多态的一个理解？
        (3) Python了解吗？说说Python的GC？讲讲Python迭代器和生成器？
        (4) 讲讲Python的装饰器
        (5) Java垃圾回收讲讲？为什么在新生代循环15次？18次不可以？
        (6) CMS的特点？和G1比较一下？
        (7) C++会吗？（不会）
        (8) 讲一下类加载机制，双亲委派机制有什么好处？
        (9) Java对象内存布局是什么？
        (10) Java内存模型JMM了解多少？
        (11) 为什么一开始eden和s1和s2不用标记整理算法？
        (12) Java线程池几个拒绝策略讲一下
    2.大数据相关
       （1）Spark和Flink的区别？详细讲一下
       （2）Flink反压原理？
       （3）Hbase和Hive区别？
        (4) Hive底层的执行原理（AST那一套）
       （5）Kafka连环炮，讲讲ISR列表？Kafka如何保证可靠性？如何保证一致性？你说的副本同步机制是怎么同步的？你讲的3个ACK参数各自代表什么含义？公众号中华石杉有详细解释，大家可以理解然后背下来
       （6）Spark的几种Join方式详细讲讲？BroadcastJoin底层怎么实现的？
        (7) 数据倾斜优化的思路有哪些？如果两个表都特别大你怎么优化？
        (8) 线上项目调优，你有些什么思路？（数据倾斜，算子，资源，GC，序列化，堆外内存，数据结构）
       （9）ClickHouse了解的多吗？讲讲（好像字节跳动都在用ClickHouse,所以每个面试官基本都问了我这个问题）
       （10）CAP理论？一般我们满足什么条件
    3.基础知识
        (1) 进程调度算法？
        (2) 缺页中断是什么？有哪些页面置换算法
       （3）Linux查看端口命令？如何配置环境变量？
       （4）TCP如何保证可靠性？
       （5）点击url到网页显示，依次发生了什么
       （6）快排的时间复杂度？空间复杂度？归并排序的的时间和空间复杂度？快排的最好时间复杂度？最坏的情况呢？如果数据是有序的，快排有什么优化思路？
       （7）MySQL，死锁怎么看？MySQL的默认隔离级别？事务的特性？RR怎么解决幻读的？
    4.项目问题
        1.基本就是问问数据规模，如何保证数据准确
    5.代码考核
        1.三角形的最大周长,给定一个数组[4,2,1,5,6,2]求可以组成三角形的最大周长
        2.第一题的变形，问有效三角形的个数，总共可以组成多少个有效三角形
        3.二叉树的最近公共祖先LeetCode236
    6.场景设计
        1.
           字节跳动广告部门200个人会定期举办活动，但是每次只能选取8个人参加，请你设计一个系统，使得被选择过的人权重要降低(即下次被选择的机会要小)，你如何让所有人都有参与感？代码实现
        我自己当时的一个思路的话就是每一轮初始化每个人的权重，然后利用前缀和，对权重数组构建一个前缀和数组，这样前缀和是排序的，然后用random随机选一个数，然后二分法选择8个人，降低他们的权重进行下一轮选择。不知道还有什么优化的？
        2.田忌赛马
           田忌和齐王有两组马arr1和arr2，你怎么安排两组马的配对最后能让田忌胜利？代码实现
        这个比较简答，总的思路就是让田忌的每一个马都发挥最大作用即可，即田忌最慢的马如果比齐王最慢的马快，那么就配对，否则田忌的最慢的马和齐王最快的马配对。
 第三个部门
      1.开发语言
        （1）Scala尾递归讲一下
        （2）Scala高阶函数，柯里化？闭包讲一下
        （3）Java类加载过程，Java内存布局
        （4）Java垃圾回收
        （5）Java集合熟悉吗？讲一下
     2.大数据
        （1）Spark和Flink的区别，详细讲讲
        （2）ClickHouse熟悉吗？讲讲（每一个人都会问）
        （3）spark和mapreduce的区别?
        （4）ClickHouse如果left join的时候，是大表在前还是小表在前（如果是Hive的话是大表在前，会从右加载小表到内存，如果是MySQL正好相反，clickhouse我还真不知道，大家查查吧）
     3.基础知识
        （1）TCP三次握手四次挥手？说清楚每阶段的双方的状态
        （2）MySQL索引原理，MySQL原子性和持久性的原理(redo log和undo log)
         (3) 进程通信方式
        （4）如何限流？当时没太听清楚，面试官说我最后问一个问题，大概意思是流量很高，你如何设计一个限流方案，我说双端循环队列，问容量为k,需要的数组大小多少？回答说k+1（LeetCode上有设计循环队列的题目）
    4.项目问题
        和前面几次面试都差不多，就是对你的简历上的项目扣细节，大家一定要对简历上的每一个项目都能侃侃而谈
    5.代码考核
        1.两数相加，LeetCode2
        2.设计一个数据结构，能够在O(1)时间复杂度进行插入和删除，同时还能随机返回一个数。当时联想到了LRU，所以使用了一个数组+hashMap的数据结构组合，AC
        3.rand5求rand3, rand5求rand7
    6.场景设计题
        1.有三个字段：ts（登陆或登出时间点,user_id, login或logout
        问题如下：统计最大并发用户数并且对应的区间?
       （我实在想不出来，因为可能会多次登录没有退出，等等异常情况，我和面试官商量说能不能只能登录和退出两两配并且只能登录之后退出，然后再次登录退出，这样的话就是对数据进行一个预处理，组成[[start1,end1],[start2,end2],[start3,end3]]）求最大并发即可，这样的话这道题就是猿辅导笔试时候的第一题的题意，用了个优先队列就可以了
